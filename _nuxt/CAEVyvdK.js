import{_ as N}from"./2pqzDwV_.js";import{_ as k}from"./CTKFH9H8.js";import{a as w}from"./upsvKRUO.js";import{P as V}from"./Dapd81OO.js";import{e as j,r as g,g as G,n as y,c as o,p as L,b as n,w as r,l as R,m as _,a as t,F as x,h as b,t as M,o as s,i as $,_ as P}from"./Wq7QxZVT.js";const S={class:"min-h-screen pb-4"},z={key:0,class:"mb-6 pt-14 z-20"},D={key:1,class:"px-4"},E={class:"text-xl font-bold"},F={class:"flex gap-4 overflow-x-auto scrollbar-hide mt-3 overflow-y-hidden"},I={key:2,class:"text-center text-red-500 mt-4"},T={class:"fixed w-full bg-gray-800 h-14 bottom-0 flex justify-between px-8 pt-1"},A=j({__name:"home",setup(O){const p=g([]),v=g([]),d=g(null);return G(async()=>{try{const e=(await w.get("http://moviesapi.ir/api/v1/genres")).data||[];if(e.length===0){d.value="No genres found.";return}const m=Math.floor(Math.random()*e.length),f=e[m],u=await w.get(`http://moviesapi.ir/api/v1/genres/${f.id}/movies?page=1`);p.value=u.data.data;for(const i of e){await new Promise(a=>setTimeout(a,500));const l=await w.get(`http://moviesapi.ir/api/v1/genres/${i.id}/movies?page=1`);v.value.push({id:i.id,name:i.name||`Genre ${i.id}`,movies:l.data.data})}}catch(c){d.value="Failed to load genres and movies.",console.error(c)}}),(c,e)=>{const m=N,f=y("swiper-slide"),u=y("swiper"),i=k,l=k;return s(),o("div",S,[e[5]||(e[5]=L('<div class="fixed w-full bg-gray-800 h-14 top-0 flex justify-between z-10 text-white text-3xl" data-v-41d2b53e><span class="pt-3 px-6" style="font-family:fantasy;" data-v-41d2b53e>MASTER MOVIE</span><div class="pt-2 justify-start px-2" data-v-41d2b53e><svg xmlns="http://www.w3.org/2000/svg" width="45" height="45" viewBox="0 0 512 512" data-v-41d2b53e><path fill="none" stroke="#fff" stroke-linecap="round" stroke-miterlimit="10" stroke-width="48" d="M88 152h336M88 256h336M88 360h336" data-v-41d2b53e></path></svg></div></div>',1)),p.value.length>0?(s(),o("div",z,[n(u,{slidesPerView:1,spaceBetween:30,loop:!0,pagination:{clickable:!0},modules:[R(V)],class:"mySwiper mt-4"},{default:r(()=>[(s(!0),o(x,null,b(p.value,(a,h)=>(s(),$(f,{key:h},{default:r(()=>[n(m,{movie:a},null,8,["movie"])]),_:2},1024))),128))]),_:1},8,["modules"])])):_("",!0),v.value.length>0?(s(),o("div",D,[e[1]||(e[1]=t("h2",{class:"text-2xl font-semibold text-center mt-4"},"Genres",-1)),(s(!0),o(x,null,b(v.value,(a,h)=>(s(),o("div",{key:h,class:"mb-8"},[n(i,{to:`/genre/${a.id}`,class:"justify-between flex mt-6 mb-4"},{default:r(()=>[t("div",E,M(a.name),1),e[0]||(e[0]=t("div",null,"see more",-1))]),_:2},1032,["to"]),t("div",F,[(s(!0),o(x,null,b(a.movies,(C,B)=>(s(),o("div",{key:B,class:"shrink-0 w-40"},[n(m,{movie:C,color:"text-white"},null,8,["movie"])]))),128))])]))),128))])):_("",!0),d.value?(s(),o("div",I,M(d.value),1)):_("",!0),t("div",T,[n(l,{to:"/search",class:"items-center"},{default:r(()=>e[2]||(e[2]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"45",height:"45",viewBox:"0 0 32 32"},[t("path",{fill:"none",stroke:"#fff","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"m5 27l7.5-7.5M28 13a9 9 0 1 1-18 0a9 9 0 0 1 18 0"})],-1)])),_:1}),n(l,{to:"/",class:""},{default:r(()=>e[3]||(e[3]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"45",height:"45",viewBox:"0 0 24 24"},[t("path",{fill:"#fff",d:"M10 20v-6h4v6h5v-8h3L12 3L2 12h3v8z"})],-1)])),_:1}),n(l,{to:"/favorite",class:""},{default:r(()=>e[4]||(e[4]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"45",height:"45",viewBox:"0 0 24 24"},[t("path",{fill:"#fff",d:"m12.1 18.55l-.1.1l-.11-.1C7.14 14.24 4 11.39 4 8.5C4 6.5 5.5 5 7.5 5c1.54 0 3.04 1 3.57 2.36h1.86C13.46 6 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5c0 2.89-3.14 5.74-7.9 10.05M16.5 3c-1.74 0-3.41.81-4.5 2.08C10.91 3.81 9.24 3 7.5 3C4.42 3 2 5.41 2 8.5c0 3.77 3.4 6.86 8.55 11.53L12 21.35l1.45-1.32C18.6 15.36 22 12.27 22 8.5C22 5.41 19.58 3 16.5 3"})],-1)])),_:1})])])}}}),W=P(A,[["__scopeId","data-v-41d2b53e"]]);export{W as default};
