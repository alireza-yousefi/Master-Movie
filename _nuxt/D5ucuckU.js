import{_ as g}from"./AmXMAomV.js";import{e as x,r as u,c as s,a as l,H as y,I as k,m as v,F as b,h as w,t as m,o as t,i as S,_ as B}from"./D8pWWa6C.js";import{a as C}from"./upsvKRUO.js";import"./eqqijl01.js";const M={class:"min-h-screen"},T={class:"p-4 pt-20 pb-20"},N={class:"relative"},V={key:0,class:"text-center text-gray-500 mt-10"},D={key:1,class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4"},F={key:2,class:"text-center text-gray-500 mt-10"},I={key:3,class:"text-center text-red-500 mt-4"},L=x({__name:"search",setup($){const e=u(""),a=u([]),r=u(!1),o=u(null);let d=null;const p=async()=>{if(!e.value.trim()){a.value=[],o.value=null;return}r.value=!0,o.value=null;try{const n=await C.get(`https://moviesapi.ir/api/v1/movies?q=${e.value}`);a.value=n.data.data}catch(n){o.value="خطا در جستجوی فیلم‌ها",console.error(n)}finally{r.value=!1}},_=()=>{d&&clearTimeout(d),d=setTimeout(()=>{p()},500)},h=()=>{e.value="",a.value=[],o.value=null};return(n,i)=>{const f=g;return t(),s("div",M,[i[1]||(i[1]=l("div",{class:"fixed w-full bg-gray-800 h-14 top-0 flex items-center text-white text-2xl"},[l("span",{class:"ml-4"},"Search Movies")],-1)),l("div",T,[l("div",N,[y(l("input",{"onUpdate:modelValue":i[0]||(i[0]=c=>e.value=c),onKeyup:_,type:"text",class:"w-full p-3 border border-gray-400 rounded-md mb-4 pr-10",placeholder:"Search for movies..."},null,544),[[k,e.value]]),e.value?(t(),s("span",{key:0,onClick:h,class:"absolute top-6 right-4 transform -translate-y-1/2 text-white"}," ✕ ")):v("",!0)]),r.value?(t(),s("div",V,"Loading...")):a.value.length>0?(t(),s("div",D,[(t(!0),s(b,null,w(a.value,c=>(t(),S(f,{key:c.id,movie:c},null,8,["movie"]))),128))])):e.value&&!r.value&&a.value.length===0?(t(),s("div",F,' No results found for "'+m(e.value)+'" ',1)):v("",!0),o.value?(t(),s("div",I,m(o.value),1)):v("",!0)])])}}}),Q=B(L,[["__scopeId","data-v-921361b7"]]);export{Q as default};
